{% extends 'base.html' %}

{% block title %}Supprimer le post{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="post-card p-4">
                <h4 class="mb-3">
                    <i class="bi bi-exclamation-triangle text-danger"></i>
                    Supprimer ce post ?
                </h4>

                <div class="alert alert-warning">
                    <strong>Attention :</strong> Cette action est irréversible.
                </div>

                <!-- Aperçu du post -->
                <div class="border rounded p-3 mb-3 bg-light">
                    <p class="mb-0">{{ post.content|truncatewords:30 }}</p>

                    {% if post.image %}
                    <img src="{{ post.image.url }}" class="img-fluid rounded mt-2" alt="" style="max-height: 150px;">
                    {% endif %}

                    {% if post.video %}
                    <video class="w-100 rounded mt-2" style="max-height: 150px;">
                        <source src="{{ post.video.url }}" type="video/mp4">
                    </video>
                    {% endif %}

                    <div class="text-muted small mt-2">
                        <i class="bi bi-heart"></i> {{ post.likes_count }}
                        <i class="bi bi-chat ms-2"></i> {{ post.comments_count }}
                        <i class="bi bi-share ms-2"></i> {{ post.shares_count }}
                    </div>
                </div>

                <!-- Boutons d'action -->
                <form method="post">
                    {% csrf_token %}
                    <div class="d-flex gap-2">
                        <button type="submit" class="btn btn-danger flex-fill">
                            <i class="bi bi-trash"></i> Supprimer définitivement
                        </button>
                        <a href="javascript:history.back()" class="btn btn-secondary flex-fill">
                            <i class="bi bi-x-circle"></i> Annuler
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
